CROSS_COMPILE :=
GCC := $(CROSS_COMPILE)gcc
LD := $(CROSS_COMPILE)ld
RM := rm

TARGET := demo

src_path :=  	.	\
				./msdl

inc_path := 	$(objs_path) \
				./include

define := -g3 -gdwarf-2
inc := $(patsubst %, -I%, $(inc_path))
CFLAGS := -c $(inc) $(define)

libs :=			pthread	\
				math

LIBS := $(patsubst %, -l%, $(libs))

srcs := $(wildcard $(addsuffix /*.c, $(src_path)))
OBJS := $(patsubst %.c, %.o, $(srcs))

all:$(TARGET)
	
$(TARGET):$(OBJS)
	$(GCC) $(LIBS) -o $@ $^

%.o:%.c
	$(GCC) $(CFLAGS) -o $@ $^

.PHONY:clean
clean:
	@$(RM) $(TARGET) $(OBJS) -rvf



